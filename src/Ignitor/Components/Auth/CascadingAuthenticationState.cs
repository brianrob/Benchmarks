#pragma checksum "D:\work\Benchmarks\src\Ignitor\Components\Auth\CascadingAuthenticationState.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "8fa2f3b8ec346a1dcefb3f286fd8a5d4e0ab4f0e"
// <auto-generated/>
#pragma warning disable 1591
#pragma warning disable 0414
#pragma warning disable 0649
#pragma warning disable 0169

namespace Ignitor
{
#line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Ignitor;
    public class CascadingAuthenticationState : Ignitor.ComponentBase, IDisposable
    {
#pragma warning disable 1998
        protected override void BuildRenderTree(Ignitor.RenderTree.RenderTreeBuilder builder)
        {
        }
#pragma warning restore 1998
#line 7 "D:\work\Benchmarks\src\Ignitor\Components\Auth\CascadingAuthenticationState.razor"

        private Task<AuthenticationState> _currentAuthenticationStateTask;

        /// <summary>
        /// The content to which the authentication state should be provided.
        /// </summary>
        [Parameter] public RenderFragment ChildContent { get; private set; }

        protected override void OnInit()
        {
            AuthenticationStateProvider.AuthenticationStateChanged += OnAuthenticationStateChanged;

            _currentAuthenticationStateTask = AuthenticationStateProvider
                .GetAuthenticationStateAsync();
        }

        private void OnAuthenticationStateChanged(Task<AuthenticationState> newAuthStateTask)
        {
            Invoke(() =>
            {
                _currentAuthenticationStateTask = newAuthStateTask;
                StateHasChanged();
            });
        }

        void IDisposable.Dispose()
        {
            AuthenticationStateProvider.AuthenticationStateChanged -= OnAuthenticationStateChanged;
        }

#line default
#line hidden
        [global::Ignitor.InjectAttribute] private AuthenticationStateProvider AuthenticationStateProvider { get; set; }
    }
}
#pragma warning restore 1591
